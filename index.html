<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Grokipedia Search</title>
<style>
  body {
    background:#111; color:white; font-family:sans-serif;
    padding:40px; max-width:700px; margin:auto;
  }
  input { width:400px; padding:10px; border-radius:6px; border:none; }
  button { padding:10px 20px; border:none; border-radius:6px; background:#444; color:white; cursor:pointer; }
  .item { padding:10px 0; border-bottom:1px solid #333; }
  .title { font-size:18px; font-weight:bold; }
</style>
</head>
<body>

<h1>Grokipedia Search</h1>

<input id="q" value="Runes">
<button onclick="go()">Search</button>

<div id="results"></div>

<script>
async function go() {
  const q = document.getElementById("q").value.trim();
  const url = `/api/search?q=${encodeURIComponent(q)}&limit=300`;

  const r = await fetch(url);
  const data = await r.json();

  const out = document.getElementById("results");
  out.innerHTML = "";

  if (!data || !data.results) {
    out.innerHTML = "<p>No results.</p>";
    return;
  }

  data.results.forEach(item => {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <div class="title">${item.title}</div>
      <div>${item.snippet || ""}</div>
    `;
    out.appendChild(div);
  });
}
</script>

</body>
</html>
